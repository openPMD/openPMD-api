<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>openPMD-api: C++ &amp; Python API for Scientific I/O with openPMD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openPMD-api
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">C++ &amp; Python API for Scientific I/O with <a class="el" href="namespaceopen_p_m_d.html" title="Public definitions of openPMD-api.">openPMD</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/openPMD/openPMD-standard/releases"><img src="https://img.shields.io/badge/openPMD-1.0.0--1.1.0-blue" alt="Supported openPMD Standard" class="inline"/></a> <a href="https://www.openpmd.org/openPMD-api"><img src="https://img.shields.io/badge/API-Doxygen-blue" alt="Doxygen" class="inline"/></a> <a href="https://gitter.im/openPMD/API"><img src="https://img.shields.io/gitter/room/openPMD/API" alt="Gitter chat" class="inline"/></a> <img src="https://img.shields.io/badge/platforms-linux%20|%20osx%20|%20win-blue" alt="Supported Platforms" title="Supported Platforms" class="inline"/> <a href="https://www.gnu.org/licenses/lgpl-3.0.html"><img src="https://img.shields.io/badge/license-LGPLv3-blue" alt="License" class="inline"/></a> <a href="https://doi.org/10.14278/rodare.27"><object type="image/svg+xml" data="https://rodare.hzdr.de/badge/DOI/10.14278/rodare.27.svg" style="pointer-events: none;">DOI</object></a> <br  />
 <a href="https://www.codefactor.io/repository/github/openpmd/openpmd-api"><img src="https://www.codefactor.io/repository/github/openpmd/openpmd-api/badge" alt="CodeFactor" class="inline"/></a> <a href="https://lgtm.com/projects/g/openPMD/openPMD-api/context:cpp"><img src="https://img.shields.io/lgtm/grade/cpp/g/openPMD/openPMD-api?logo=lgtm&amp;logoWidth=18" alt="LGTM: C/C++" class="inline"/></a> <a href="https://lgtm.com/projects/g/openPMD/openPMD-api/context:python"><img src="https://img.shields.io/lgtm/grade/python/g/openPMD/openPMD-api?logo=lgtm&amp;logoWidth=18" alt="LGTM: Python" class="inline"/></a> <a href="https://lgtm.com/projects/g/openPMD/openPMD-api/alerts/"><img src="https://img.shields.io/lgtm/alerts/g/openPMD/openPMD-api?logo=lgtm&amp;logoWidth=18" alt="LGTM: Total alerts" class="inline"/></a> <a href="https://coveralls.io/github/openPMD/openPMD-api"><img src="https://coveralls.io/repos/github/openPMD/openPMD-api/badge" alt="Coverage Status" class="inline"/></a> <br  />
 <a href="https://openpmd-api.readthedocs.io/en/latest/?badge=latest"><img src="https://readthedocs.org/projects/openpmd-api/badge/?version=latest" alt="Documentation Status" class="inline"/></a> <a href="https://travis-ci.com/openPMD/openPMD-api"><object type="image/svg+xml" data="https://travis-ci.com/openPMD/openPMD-api.svg?branch=dev" style="pointer-events: none;">Linux/OSX Build Status dev</object></a> <a href="https://ci.appveyor.com/project/ax3l/openpmd-api/branch/dev"><img src="https://ci.appveyor.com/api/projects/status/x95q4n620pqk0e0t/branch/dev?svg=true" alt="Windows Build Status dev" class="inline"/></a> <a href="https://github.com/openPMD/openPMD-api/actions?query=workflow%3Awheels"><object type="image/svg+xml" data="https://github.com/openPMD/openPMD-api/workflows/wheels/badge.svg?branch=wheels&amp;event=push" style="pointer-events: none;">PyPI Wheel Release</object></a> <a href="https://dev.azure.com/axelhuebl/openPMD-api/_build/latest?definitionId=1&amp;branchName=azure_install"><img src="https://dev.azure.com/axelhuebl/openPMD-api/_apis/build/status/openPMD.openPMD-api?branchName=azure_install&amp;label=nightly%20packages" alt="Nightly Packages Status" class="inline"/></a> <a href="https://scan.coverity.com/projects/openpmd-openpmd-api"><object type="image/svg+xml" data="https://scan.coverity.com/projects/17602/badge.svg" style="pointer-events: none;">Coverity Scan Build Status</object></a></p>
<p><a class="el" href="namespaceopen_p_m_d.html" title="Public definitions of openPMD-api.">openPMD</a> is an open meta-data schema that provides meaning and self-description for data sets in science and engineering. See <a href="https://github.com/openPMD/openPMD-standard">the openPMD standard</a> for details of this schema.</p>
<p>This library provides a reference API for <a class="el" href="namespaceopen_p_m_d.html" title="Public definitions of openPMD-api.">openPMD</a> data handling. Since <a class="el" href="namespaceopen_p_m_d.html" title="Public definitions of openPMD-api.">openPMD</a> is a schema (or markup) on top of portable, hierarchical file formats, this library implements various backends such as HDF5, ADIOS1, ADIOS2 and JSON. Writing &amp; reading through those backends and their associated files is supported for serial and <a href="https://www.mpi-forum.org/docs/">MPI-parallel</a> workflows.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md1"></a>
C++</h2>
<p><a href="https://isocpp.org/"><img src="https://img.shields.io/badge/language-C%2B%2B14-yellowgreen" alt="C++14" title="C++14 API" class="inline"/></a> <img src="https://img.shields.io/badge/phase-beta-yellowgreen" alt="C++14 API: Beta" title="Status: Beta" class="inline"/></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;openPMD/openPMD.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> s = <a class="code" href="classopen_p_m_d_1_1_series.html">openPMD::Series</a>(<span class="stringliteral">&quot;samples/git-sample/data%T.h5&quot;</span>, <a class="code" href="namespaceopen_p_m_d.html#a132624db0c6ac134d7a6084ab6d07e1ea47c7e7cb36a953a8c47e02000036bb44">openPMD::Access::READ_ONLY</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span>&amp; i : s.iterations ) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Iteration: &quot;</span> &lt;&lt; i.first &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span>&amp; m : i.second.meshes ) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;  Mesh &#39;&quot;</span> &lt;&lt; m.first &lt;&lt; <span class="stringliteral">&quot;&#39; attributes:\n&quot;</span>;</div>
<div class="line">        <span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span>&amp; val : m.second.attributes() )</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; val &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span>&amp; p : i.second.particles ) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;  Particle species &#39;&quot;</span> &lt;&lt; p.first &lt;&lt; <span class="stringliteral">&quot;&#39; attributes:\n&quot;</span>;</div>
<div class="line">        <span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span>&amp; val : p.second.attributes() )</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; val &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2"></a>
Python</h2>
<p><a href="https://www.python.org/"><img src="https://img.shields.io/badge/language-Python3-yellowgreen" alt="Python3" title="Python3 API" class="inline"/></a> <img src="https://img.shields.io/badge/phase-beta-yellowgreen" alt="Python3 API: Beta" title="Status: Beta" class="inline"/></p>
<div class="fragment"><div class="line">import openpmd_api <span class="keyword">as</span> io</div>
<div class="line"> </div>
<div class="line"><span class="comment"># ...</span></div>
<div class="line"> </div>
<div class="line">series = io.Series(<span class="stringliteral">&quot;samples/git-sample/data%T.h5&quot;</span>, io.Access.read_only)</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> k_i, i <span class="keywordflow">in</span> series.iterations.items():</div>
<div class="line">    print(<span class="stringliteral">&quot;Iteration: {0}&quot;</span>.format(k_i))</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> k_m, m <span class="keywordflow">in</span> i.meshes.items():</div>
<div class="line">        print(<span class="stringliteral">&quot;  Mesh &#39;{0}&#39; attributes:&quot;</span>.format(k_m))</div>
<div class="line">        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> m.attributes:</div>
<div class="line">            print(<span class="stringliteral">&quot;    {0}&quot;</span>.format(a))</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> k_p, p <span class="keywordflow">in</span> i.particles.items():</div>
<div class="line">        print(<span class="stringliteral">&quot;  Particle species &#39;{0}&#39; attributes:&quot;</span>.format(k_p))</div>
<div class="line">        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> p.attributes:</div>
<div class="line">            print(<span class="stringliteral">&quot;    {0}&quot;</span>.format(a))</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
More!</h2>
<p>Curious? Our manual shows full <a href="https://openpmd-api.readthedocs.io/en/latest/usage/firstwrite.html">read &amp; write examples</a>, both serial and MPI-parallel!</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Dependencies</h1>
<p>Required:</p><ul>
<li>CMake 3.15.0+</li>
<li>C++14 capable compiler, e.g. g++ 5.0+, clang 5.0+, VS 2017+</li>
</ul>
<p>Shipped internally in <code>share/openPMD/thirdParty/</code>:</p><ul>
<li><a href="https://github.com/mpark/variant">MPark.Variant</a> 1.4.0+ (<a href="https://github.com/mpark/variant/blob/master/LICENSE.md">BSL-1.0</a>)</li>
<li><a href="https://github.com/catchorg/Catch2">Catch2</a> 2.6.1+ (<a href="https://github.com/catchorg/Catch2/blob/master/LICENSE.txt">BSL-1.0</a>)</li>
<li><a href="https://github.com/pybind/pybind11">pybind11</a> 2.6.1+ (<a href="https://github.com/pybind/pybind11/blob/master/LICENSE">new BSD</a>)</li>
<li><a href="https://github.com/nlohmann/json">NLohmann-JSON</a> 3.9.1+ (<a href="https://github.com/nlohmann/json/blob/develop/LICENSE.MIT">MIT</a>)</li>
</ul>
<p>I/O backends:</p><ul>
<li><a href="https://en.wikipedia.org/wiki/JSON">JSON</a></li>
<li><a href="https://support.hdfgroup.org/HDF5">HDF5</a> 1.8.13+ (optional)</li>
<li><a href="https://www.olcf.ornl.gov/center-projects/adios">ADIOS1</a> 1.13.1+ (optional)</li>
<li><a href="https://github.com/ornladios/ADIOS2">ADIOS2</a> 2.6.0+ (optional)</li>
</ul>
<p>while those can be built either with or without:</p><ul>
<li>MPI 2.1+, e.g. OpenMPI 1.6.5+ or MPICH2</li>
</ul>
<p>Optional language bindings:</p><ul>
<li>Python:<ul>
<li>Python 3.6 - 3.9</li>
<li>pybind11 2.6.1+</li>
<li>numpy 1.15+</li>
<li>mpi4py 2.1+</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Installation</h1>
<p><a href="https://spack.readthedocs.io/en/latest/package_list.html#openpmd-api"><img src="https://img.shields.io/badge/spack.io-openpmd--api-brightgreen" alt="Spack Package" class="inline"/></a> <a href="https://anaconda.org/conda-forge/openpmd-api"><img src="https://img.shields.io/badge/conda.io-openpmd--api-brightgreen" alt="Conda Package" class="inline"/></a> <a href="https://github.com/openPMD/homebrew-openPMD"><img src="https://img.shields.io/badge/brew.sh-openpmd--api-brightgreen" alt="Brew Package" class="inline"/></a> <a href="https://pypi.org/project/openPMD-api"><img src="https://img.shields.io/badge/pypi.org-openpmd--api-brightgreen" alt="PyPI Package" class="inline"/></a> <a href="https://cmake.org"><img src="https://img.shields.io/badge/from_source-CMake-brightgreen" alt="From Source" class="inline"/></a></p>
<p>Our community loves to help each other. Please <a href="https://github.com/openPMD/openPMD-api/issues/new?labels=install&amp;template=install_problem.md">report installation problems</a> in case you should get stuck.</p>
<p>Choose <em>one</em> of the install methods below to get started:</p>
<h2><a class="anchor" id="autotoc_md6"></a>
&lt;a href="https://spack.io"&gt;Spack&lt;/a&gt;</h2>
<p><a href="https://spack.readthedocs.io/en/latest/package_list.html#openpmd-api"><img src="https://img.shields.io/spack/v/openpmd-api" alt="Spack Version" class="inline"/></a> <a href="https://spack.io"><img src="https://img.shields.io/badge/platforms-linux%20|%20osx%20-blue" alt="Spack Platforms" class="inline"/></a> <a href="https://spack.readthedocs.io/en/latest/package_list.html#openpmd-api"><img src="https://img.shields.io/badge/use_case-desktop_%28C%2B%2B,_py%29,_development,_HPC-brightgreen" alt="Spack Use Case" class="inline"/></a></p>
<div class="fragment"><div class="line"># optional:               +python +adios1 -adios2 -hdf5 -mpi</div>
<div class="line">spack install openpmd-api</div>
<div class="line">spack load -r openpmd-api</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
&lt;a href="https://conda.io"&gt;Conda&lt;/a&gt;</h2>
<p><a href="https://anaconda.org/conda-forge/openpmd-api"><img src="https://img.shields.io/conda/vn/conda-forge/openpmd-api" alt="Conda Version" class="inline"/></a> <a href="https://anaconda.org/conda-forge/openpmd-api"><img src="https://img.shields.io/badge/platforms-linux%20|%20osx%20|%20win-blue" alt="Conda Platforms" class="inline"/></a> <a href="https://anaconda.org/conda-forge/openpmd-api"><img src="https://img.shields.io/badge/use_case-desktop_%28py%29-brightgreen" alt="Conda Use Case" class="inline"/></a> <a href="https://anaconda.org/conda-forge/openpmd-api"><img src="https://img.shields.io/conda/dn/conda-forge/openpmd-api" alt="Conda Downloads" class="inline"/></a></p>
<div class="fragment"><div class="line"># optional:                      OpenMPI support  =*=mpi_openmpi*</div>
<div class="line"># optional:                        MPICH support  =*=mpi_mpich*</div>
<div class="line">conda create -n openpmd -c conda-forge openpmd-api</div>
<div class="line">conda activate openpmd</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
&lt;a href="https://brew.sh"&gt;Brew&lt;/a&gt;</h2>
<p><a href="https://github.com/openPMD/homebrew-openPMD"><img src="https://img.shields.io/badge/brew-latest_version-orange" alt="Brew Version" class="inline"/></a> <a href="https://docs.brew.sh/Homebrew-on-Linux"><img src="https://img.shields.io/badge/platforms-linux%20|%20osx%20-blue" alt="Brew Platforms" class="inline"/></a> <a href="https://brew.sh"><img src="https://img.shields.io/badge/use_case-desktop_%28C%2B%2B,_py%29-brightgreen" alt="Brew Use Case" class="inline"/></a></p>
<div class="fragment"><div class="line">brew tap openpmd/openpmd</div>
<div class="line">brew install openpmd-api</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
&lt;a href="https://pypi.org"&gt;PyPI&lt;/a&gt;</h2>
<p><a href="https://pypi.org/project/openPMD-api"><img src="https://img.shields.io/pypi/v/openPMD-api" alt="PyPI Version" class="inline"/></a> <a href="https://pypi.org/project/openPMD-api/#files"><img src="https://img.shields.io/badge/platforms-linux%20|%20osx%20|%20win-blue" alt="PyPI Platforms" class="inline"/></a> <a href="https://pypi.org/project/openPMD-api"><img src="https://img.shields.io/badge/use_case-desktop_%28py%29-brightgreen" alt="PyPI Use Case" class="inline"/></a> <a href="https://pypi.org/project/openPMD-api"><img src="https://img.shields.io/pypi/format/openPMD-api" alt="PyPI Format" class="inline"/></a> <a href="https://pypi.org/project/openPMD-api"><img src="https://img.shields.io/pypi/dm/openPMD-api" alt="PyPI Downloads" class="inline"/></a></p>
<p>On very old macOS versions (&lt;10.9) or on exotic processor architectures, this install method <em>compiles from source</em> against the found installations of HDF5, ADIOS1, ADIOS2, and/or MPI (in system paths, from other package managers, or loaded via a module system, ...).</p>
<div class="fragment"><div class="line"># we need pip 19 or newer</div>
<div class="line"># optional:                   --user</div>
<div class="line">python3 -m pip install -U pip</div>
<div class="line"> </div>
<div class="line"># optional:                        --user</div>
<div class="line">python3 -m pip install openpmd-api</div>
</div><!-- fragment --><p>If MPI-support shall be enabled, we always have to recompile: </p><div class="fragment"><div class="line"># optional:                                    --user</div>
<div class="line">python3 -m pip install -U pip setuptools wheel</div>
<div class="line">python3 -m pip install -U cmake</div>
<div class="line"> </div>
<div class="line"># optional:                                                                   --user</div>
<div class="line">openPMD_USE_MPI=ON python3 -m pip install openpmd-api --no-binary openpmd-api</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
From Source</h2>
<p><a href="https://cmake.org"><img src="https://img.shields.io/badge/use_case-development-brightgreen" alt="Source Use Case" class="inline"/></a></p>
<p>openPMD-api can also be built and installed from source using <a href="https://cmake.org/">CMake</a>:</p>
<div class="fragment"><div class="line">git clone https://github.com/openPMD/openPMD-api.git</div>
<div class="line"> </div>
<div class="line">mkdir openPMD-api-build</div>
<div class="line">cd openPMD-api-build</div>
<div class="line"> </div>
<div class="line"># optional: for full tests, with unzip</div>
<div class="line">../openPMD-api/share/openPMD/download_samples.sh</div>
<div class="line"> </div>
<div class="line"># for own install prefix append:</div>
<div class="line">#   -DCMAKE_INSTALL_PREFIX=$HOME/somepath</div>
<div class="line"># for options append:</div>
<div class="line">#   -DopenPMD_USE_...=...</div>
<div class="line"># e.g. for python support add:</div>
<div class="line">#   -DopenPMD_USE_PYTHON=ON</div>
<div class="line">cmake ../openPMD-api</div>
<div class="line"> </div>
<div class="line">cmake --build .</div>
<div class="line"> </div>
<div class="line"># optional</div>
<div class="line">ctest</div>
<div class="line"> </div>
<div class="line"># sudo might be required for system paths</div>
<div class="line">cmake --build . --target install</div>
</div><!-- fragment --><p>The following options can be added to the <code>cmake</code> call to control features. CMake controls options with prefixed <code>-D</code>, e.g. <code>-DopenPMD_USE_MPI=OFF</code>:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CMake Option </th><th class="markdownTableHeadNone">Values </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>openPMD_USE_MPI</code> </td><td class="markdownTableBodyNone"><b>AUTO</b>/ON/OFF </td><td class="markdownTableBodyNone">Parallel, Multi-Node I/O for clusters  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>openPMD_USE_HDF5</code> </td><td class="markdownTableBodyNone"><b>AUTO</b>/ON/OFF </td><td class="markdownTableBodyNone">HDF5 backend (<code>.h5</code> files)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>openPMD_USE_ADIOS1</code> </td><td class="markdownTableBodyNone"><b>AUTO</b>/ON/OFF </td><td class="markdownTableBodyNone">ADIOS1 backend (<code>.bp</code> files up to version BP3)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>openPMD_USE_ADIOS2</code> </td><td class="markdownTableBodyNone"><b>AUTO</b>/ON/OFF </td><td class="markdownTableBodyNone">ADIOS2 backend (<code>.bp</code> files in BP3, BP4 or higher)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>openPMD_USE_PYTHON</code> </td><td class="markdownTableBodyNone"><b>AUTO</b>/ON/OFF </td><td class="markdownTableBodyNone">Enable Python bindings  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>openPMD_USE_INVASIVE_TESTS</code> </td><td class="markdownTableBodyNone">ON/**OFF** </td><td class="markdownTableBodyNone">Enable unit tests that modify source code <sup>1</sup>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>openPMD_USE_VERIFY</code> </td><td class="markdownTableBodyNone"><b>ON</b>/OFF </td><td class="markdownTableBodyNone">Enable internal VERIFY (assert) macro independent of build type <sup>2</sup>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>openPMD_INSTALL</code> </td><td class="markdownTableBodyNone"><b>ON</b>/OFF </td><td class="markdownTableBodyNone">Add installation targets  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Python_EXECUTABLE</code> </td><td class="markdownTableBodyNone">(newest found) </td><td class="markdownTableBodyNone">Path to Python executable  </td></tr>
</table>
<p><sup>1</sup> <em>e.g. changes C++ visibility keywords, breaks MSVC</em> <sup>2</sup> <em>this includes most pre-/post-condition checks, disabling without specific cause is highly discouraged</em></p>
<p>Additionally, the following libraries are shipped internally. The following options allow to switch to external installs:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CMake Option </th><th class="markdownTableHeadNone">Values </th><th class="markdownTableHeadNone">Library </th><th class="markdownTableHeadNone">Version  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>openPMD_USE_INTERNAL_VARIANT</code> </td><td class="markdownTableBodyNone"><b>ON</b>/OFF </td><td class="markdownTableBodyNone">MPark.Variant </td><td class="markdownTableBodyNone">1.4.0+  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>openPMD_USE_INTERNAL_CATCH</code> </td><td class="markdownTableBodyNone"><b>ON</b>/OFF </td><td class="markdownTableBodyNone">Catch2 </td><td class="markdownTableBodyNone">2.6.1+  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>openPMD_USE_INTERNAL_PYBIND11</code> </td><td class="markdownTableBodyNone"><b>ON</b>/OFF </td><td class="markdownTableBodyNone">pybind11 </td><td class="markdownTableBodyNone">2.6.1+  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>openPMD_USE_INTERNAL_JSON</code> </td><td class="markdownTableBodyNone"><b>ON</b>/OFF </td><td class="markdownTableBodyNone">NLohmann-JSON </td><td class="markdownTableBodyNone">3.9.1+  </td></tr>
</table>
<p>By default, this will build as a shared library (<code>libopenPMD.[so|dylib|dll]</code>) and installs also its headers. In order to build a static library, append <code>-DBUILD_SHARED_LIBS=OFF</code> to the <code>cmake</code> command. You can only build a static or a shared library at a time.</p>
<p>By default, the <code>Release</code> version is built. In order to build with debug symbols, pass <code>-DCMAKE_BUILD_TYPE=Debug</code> to your <code>cmake</code> command.</p>
<p>By default, tests, examples and command line tools are built. In order to skip building those, pass <code>-DBUILD_TESTING=OFF</code>, <code>-DBUILD_EXAMPLES=OFF</code>, or <code>-DBUILD_CLI_TOOLS=OFF</code> to your <code>cmake</code> command.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Linking to your project</h1>
<p>The install will contain header files and libraries in the path set with <code>-DCMAKE_INSTALL_PREFIX</code>.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
CMake</h2>
<p>If your project is using CMake for its build, one can conveniently use our provided <code>openPMDConfig.cmake</code> package which is installed alongside the library.</p>
<p>First set the following environment hint if openPMD-api was <em>not</em> installed in a system path:</p>
<div class="fragment"><div class="line"># optional: only needed if installed outside of system paths</div>
<div class="line">export CMAKE_PREFIX_PATH=$HOME/somepath:$CMAKE_PREFIX_PATH</div>
</div><!-- fragment --><p>Use the following lines in your project's <code>CMakeLists.txt</code>: </p><div class="fragment"><div class="line"># supports:                       COMPONENTS MPI NOMPI HDF5 ADIOS1 ADIOS2</div>
<div class="line">find_package(openPMD 0.9.0 CONFIG)</div>
<div class="line"> </div>
<div class="line">if(openPMD_FOUND)</div>
<div class="line">    target_link_libraries(YourTarget PRIVATE openPMD::openPMD)</div>
<div class="line">endif()</div>
</div><!-- fragment --><p><em>Alternatively</em>, add the openPMD-api repository source directly to your project and use it via: </p><div class="fragment"><div class="line">add_subdirectory(&quot;path/to/source/of/openPMD-api&quot;)</div>
<div class="line"> </div>
<div class="line">target_link_libraries(YourTarget PRIVATE openPMD::openPMD)</div>
</div><!-- fragment --><p>For development workflows, you can even automatically download and build openPMD-api from within a depending CMake project. Just replace the <code>add_subdirectory</code> call with: </p><div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">set(CMAKE_POLICY_DEFAULT_CMP0077 NEW)</div>
<div class="line">set(BUILD_CLI_TOOLS OFF)</div>
<div class="line">set(BUILD_EXAMPLES OFF)</div>
<div class="line">set(BUILD_TESTING OFF)</div>
<div class="line">set(openPMD_INSTALL ${BUILD_SHARED_LIBS})  # e.g. only install if used as shared library</div>
<div class="line">set(openPMD_USE_PYTHON OFF)</div>
<div class="line">FetchContent_Declare(openPMD</div>
<div class="line">  GIT_REPOSITORY &quot;https://github.com/openPMD/openPMD-api.git&quot;</div>
<div class="line">  GIT_TAG        &quot;dev&quot;)</div>
<div class="line">FetchContent_MakeAvailable(openPMD)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
Manually</h2>
<p>If your (Linux/OSX) project is build by calling the compiler directly or uses a manually written <code>Makefile</code>, consider using our <code>openPMD.pc</code> helper file for <code>pkg-config</code> which are installed alongside the library.</p>
<p>First set the following environment hint if openPMD-api was <em>not</em> installed in a system path:</p>
<div class="fragment"><div class="line"># optional: only needed if installed outside of system paths</div>
<div class="line">export PKG_CONFIG_PATH=$HOME/somepath/lib/pkgconfig:$PKG_CONFIG_PATH</div>
</div><!-- fragment --><p>Additional linker and compiler flags for your project are available via: </p><div class="fragment"><div class="line"># switch to check if openPMD-api was build as static library</div>
<div class="line"># (via BUILD_SHARED_LIBS=OFF) or as shared library (default)</div>
<div class="line">if [ &quot;$(pkg-config --variable=static openPMD)&quot; == &quot;true&quot; ]</div>
<div class="line">then</div>
<div class="line">    pkg-config --libs --static openPMD</div>
<div class="line">    # -L/usr/local/lib -L/usr/lib/x86_64-linux-gnu/openmpi/lib -lopenPMD -pthread /usr/lib/libmpi.so -pthread /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so /usr/lib/libmpi.so /usr/lib/x86_64-linux-gnu/hdf5/openmpi/libhdf5.so /usr/lib/x86_64-linux-gnu/libsz.so /usr/lib/x86_64-linux-gnu/libz.so /usr/lib/x86_64-linux-gnu/libdl.so /usr/lib/x86_64-linux-gnu/libm.so -pthread /usr/lib/libmpi.so -pthread /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so /usr/lib/libmpi.so</div>
<div class="line">else</div>
<div class="line">    pkg-config --libs openPMD</div>
<div class="line">    # -L${HOME}/somepath/lib -lopenPMD</div>
<div class="line">fi</div>
<div class="line"> </div>
<div class="line">pkg-config --cflags openPMD</div>
<div class="line"># -I${HOME}/somepath/include</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Author Contributions</h1>
<p>openPMD-api is developed by many people. It was initially started by the <a href="https://hzdr.de/crp">Computational Radiation Physics Group</a> at <a href="https://www.hzdr.de/">HZDR</a> as successor to <a href="https://github.com/ComputationalRadiationPhysics/libSplash/">libSplash</a>, generalizing the <a href="https://arxiv.org/abs/1706.00522">successful HDF5 &amp; ADIOS1 implementations</a> in <a href="https://github.com/ComputationalRadiationPhysics/picongpu">PIConGPU</a>. The following people and institutions <a href="https://github.com/openPMD/openPMD-api/graphs/contributors">contributed</a> to openPMD-api:</p>
<ul>
<li><a href="https://github.com/ax3l">Axel Huebl (HZDR, now LBNL)</a>: project lead, releases, documentation, automated CI/CD, Python bindings, installation &amp; packaging, prior reference implementations</li>
<li><a href="https://github.com/C0nsultant">Fabian Koller (HZDR)</a>: initial library design and implementation with HDF5 &amp; ADIOS1 backend</li>
<li><a href="https://github.com/franzpoeschel">Franz Poeschel (CASUS)</a>: added JSON &amp; ADIOS2 backend, data staging/streaming</li>
<li><a href="https://github.com/guj">Junmin Gu (LBNL)</a>: non-collective parallel I/O fixes, ADIOS improvements, benchmarks</li>
</ul>
<p>Further thanks go to improvements and contributions from:</p>
<ul>
<li><a href="https://github.com/CFGrote">Carsten Fortmann-Grote (EU XFEL GmbH, now MPI-EvolBio)</a>: draft of our Python unit tests</li>
<li><a href="https://github.com/StanczakDominik">Dominik Stańczak (Warsaw University of Technology)</a>: documentation improvements</li>
<li><a href="https://github.com/mingwandroid">Ray Donnelly (Anaconda, Inc.)</a>: support on conda packaging and libc++ quirks</li>
<li><a href="https://github.com/amundson">James Amundson (FNAL)</a>: compile fix for newer compilers</li>
<li><a href="https://github.com/psychocoderHPC">René Widera (HZDR)</a>: design improvements for initial API design</li>
<li><a href="https://github.com/erikzenker">Erik Zenker (HZDR)</a>: design improvements for initial API design</li>
<li><a href="https://github.com/sbastrakov">Sergei Bastrakov (HZDR)</a>: documentation improvements (windows)</li>
<li><a href="https://github.com/RemiLehe">Rémi Lehe (LBNL)</a>: package integration testing on macOS and Linux</li>
<li><a href="https://github.com/LDAmorim">Lígia Diana Amorim (LBNL)</a>: package integration testing on macOS</li>
<li><a href="https://github.com/KseniaBastrakova">Kseniia Bastrakova (HZDR)</a>: compatibility testing</li>
<li><a href="https://github.com/PrometheusPi">Richard Pausch (HZDR)</a>: compatibility testing, documentation improvements</li>
<li><a href="https://github.com/pordyna">Paweł Ordyna (HZDR)</a>: report on NVCC warnings</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Grants</h2>
<p>The openPMD-api authors acknowledge support via the following programs. This project has received funding from the European Unions Horizon 2020 research and innovation programme under grant agreement No 654220. Supported by the Consortium for Advanced Modeling of Particles Accelerators (CAMPA), funded by the U.S. DOE Office of Science under Contract No. DE-AC02-05CH11231. Supported by the Exascale Computing Project (17-SC-20-SC), a collaborative effort of two U.S. Department of Energy organizations (Office of Science and the National Nuclear Security Administration). This work was partially funded by the Center of Advanced Systems Understanding (CASUS), which is financed by Germany's Federal Ministry of Education and Research (BMBF) and by the Saxon Ministry for Science, Culture and Tourism (SMWK) with tax funds on the basis of the budget approved by the Saxon State Parliament.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Transitive Contributions</h2>
<p>openPMD-api stands on the shoulders of giants and we are grateful for the following projects included as direct dependencies:</p>
<ul>
<li><a href="https://github.com/ornladios/ADIOS">ADIOS1</a> and <a href="https://github.com/ornladios/ADIOS2">ADIOS2</a> by <a href="https://csmd.ornl.gov/adios">S. Klasky (ORNL), team, collaborators</a> and <a href="https://github.com/ornladios/ADIOS2/graphs/contributors">contributors</a></li>
<li><a href="https://github.com/catchorg/Catch2">Catch2</a> by <a href="https://github.com/philsquared">Phil Nash</a>, <a href="https://github.com/horenmar">Martin Hořeňovský</a> and <a href="https://github.com/catchorg/Catch2/graphs/contributors">contributors</a></li>
<li>HDF5 by <a href="https://www.hdfgroup.org">the HDF group</a> and community</li>
<li><a href="https://github.com/nlohmann/json">json</a> by <a href="https://github.com/nlohmann">Niels Lohmann</a> and <a href="https://github.com/nlohmann/json/graphs/contributors">contributors</a></li>
<li><a href="https://github.com/pybind/pybind11">pybind11</a> by <a href="https://github.com/wjakob">Wenzel Jakob (EPFL)</a> and <a href="https://github.com/pybind/pybind11/graphs/contributors">contributors</a></li>
<li>all contributors to the evolution of modern C++ and early library preview developers, e.g. <a href="https://github.com/mpark">Michael Park (Facebook)</a></li>
<li>the <a href="https://cmake.org">CMake build system</a> and <a href="https://github.com/Kitware/CMake/blob/master/Copyright.txt">contributors</a></li>
<li>packaging support by the <a href="https://conda-forge.org">conda-forge</a>, <a href="https://pypi.org">PyPI</a> and <a href="https://spack.io">Spack</a> communities, among others</li>
<li>the <a href="https://github.com/openPMD/openPMD-standard">openPMD-standard</a> by <a href="https://github.com/ax3l">Axel Huebl (HZDR, now LBNL)</a> and <a href="https://github.com/openPMD/openPMD-standard/blob/latest/AUTHORS.md">contributors</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="anamespaceopen_p_m_d_html_a132624db0c6ac134d7a6084ab6d07e1ea47c7e7cb36a953a8c47e02000036bb44"><div class="ttname"><a href="namespaceopen_p_m_d.html#a132624db0c6ac134d7a6084ab6d07e1ea47c7e7cb36a953a8c47e02000036bb44">openPMD::Access::READ_ONLY</a></div><div class="ttdeci">@ READ_ONLY</div><div class="ttdoc">open series as read-only, fails if series is not found</div></div>
<div class="ttc" id="aclassopen_p_m_d_1_1_series_html"><div class="ttname"><a href="classopen_p_m_d_1_1_series.html">openPMD::Series</a></div><div class="ttdoc">Root level of the openPMD hierarchy.</div><div class="ttdef"><b>Definition:</b> Series.hpp:64</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
